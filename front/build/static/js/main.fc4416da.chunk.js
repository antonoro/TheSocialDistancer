(this.webpackJsonpthebookexchanger=this.webpackJsonpthebookexchanger||[]).push([[0],{14:function(e,t,a){e.exports=a.p+"static/media/logo_emptybackground.b92a231a.png"},34:function(e,t,a){e.exports=a(52)},40:function(e,t,a){},41:function(e,t,a){},42:function(e,t,a){},43:function(e,t,a){},44:function(e,t,a){},45:function(e,t,a){},46:function(e,t,a){},52:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),c=a(26),r=a.n(c),s=(a(39),a(40),a(3)),o=a(4),i=a(5),m=a(6),u=a(14),d=a.n(u),v=(a(41),a(20),a(15)),h=(a(42),function(e){Object(m.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(e=t.call.apply(t,[this].concat(l))).state={username:"",email:"",newpassword:"",confirmpassword:""},e.handleInputChange=function(t){e.setState(Object(v.a)({},t.target.name,t.target.value))},e.handleSubmit=function(t){var a=e.state,n=a.newpassword;n!==a.confirmpassword?(t.preventDefault(),alert("Passwords don't match"),e.setState({confirmpassword:""}),e.render()):""===n&&(t.preventDefault(),alert("Passwords can't be blank"),e.render())},e}return Object(o.a)(a,[{key:"render",value:function(){return l.a.createElement("form",{action:"/register",method:"post"},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Username:"),l.a.createElement("input",{type:"text",class:"form-control",name:"username",onChange:this.handleInputChange,value:this.state.username,required:!0})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Email:"),l.a.createElement("input",{type:"email",class:"form-control",name:"email",onChange:this.handleInputChange,value:this.state.email,required:!0})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Password:"),l.a.createElement("input",{type:"password",class:"form-control",name:"newpassword",onChange:this.handleInputChange,value:this.state.newpassword,required:!0})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Confirm password:"),l.a.createElement("input",{type:"password",class:"form-control",name:"confirmpassword",onChange:this.handleInputChange,value:this.state.confirmpassword,required:!0})),l.a.createElement("div",{className:"row justify-content-center"},l.a.createElement("div",{className:"col-6"},l.a.createElement("button",{id:"loginbtn",onClick:this.handleSubmit,type:"submit",class:"btn btn-primary btn-md btn-block"},"Register"))))}}]),a}(l.a.Component)),p=(a(43),function(e){Object(m.a)(a,e);var t=Object(i.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("form",{action:"/login",method:"post"},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Username:"),l.a.createElement("input",{type:"text",class:"form-control",name:"username",required:!0})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Password:"),l.a.createElement("input",{type:"password",class:"form-control",name:"password",required:!0})),l.a.createElement("div",{className:"row justify-content-center"},l.a.createElement("div",{className:"col-6"},l.a.createElement("button",{id:"loginbtn",onSubmit:this.logInHandleClick,type:"submit",class:"btn btn-primary btn-md btn-block"},"Play")))))}}]),a}(l.a.Component)),b=function(e){Object(m.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).logInHandleClick=function(){n.setState({logInvShowalue:!n.state.logInShowvalue})},n.signUpHandleClick=function(){n.setState({signUpShowvalue:!n.state.signUpShowvalue,logInShowvalue:!n.state.logInShowvalue})},n.state={logInShowvalue:!0,signUpShowvalue:!1,showWishList:!1},n.signupForm=l.a.createElement(h,null),n.logInform=l.a.createElement(p,null),n}return Object(o.a)(a,[{key:"render",value:function(){return l.a.createElement("div",{className:"Btn-header"},l.a.createElement("div",null,this.state.logInShowvalue?this.logInform:""),l.a.createElement("div",{className:"row justify-content-center"},l.a.createElement("div",{className:"col-6"},l.a.createElement("button",{id:"signupbtn",onClick:this.signUpHandleClick,class:"btn btn-secondary btn-md btn-block"},this.state.signUpShowvalue?"Back":"Sign Up"))),l.a.createElement("div",null,this.state.signUpShowvalue?this.signupForm:""))}}]),a}(l.a.Component),f=(a(44),a(53),function(e){Object(m.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this)).toggleNavBar=function(){n.setState({collapsed:!n.state.collapsed})},n.state={collapsed:!0},n}return Object(o.a)(a,[{key:"render",value:function(){var e=this.state.collapsed,t=e?"collapse navbar-collapse":"collapse navbar-collapse show",a=e?"navbar-toggler navbar-toggler-right collapsed":"navbar-toggler navbar-toggler-right";return l.a.createElement("div",null,l.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light bg-light"},l.a.createElement("div",{className:"container"},l.a.createElement("img",{id:"toplogo",src:d.a,alt:"Main logo"}),l.a.createElement("a",{className:"navbar-brand",href:"/"},"The Social Distancer"),l.a.createElement("button",{onClick:this.toggleNavBar,className:"".concat(a),type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},l.a.createElement("span",{className:"navbar-toggler-icon"})),l.a.createElement("div",{className:"".concat(t),id:"navbarSupportedContent"},l.a.createElement("ul",{className:"navbar-nav ml-auto"},l.a.createElement("li",{className:"nav-item"},this.props.loggedin?l.a.createElement("a",{className:"nav-link disabled"},this.props.nameuser):l.a.createElement("form",{action:"/login",method:"post"},l.a.createElement("input",{type:"hidden",className:"form-control",name:"username",value:"guest",required:!0}),l.a.createElement("input",{type:"hidden",className:"form-control",name:"password",value:"guest1",required:!0}),l.a.createElement("button",{type:"submit",className:"btn btn-outline-success"},"Play as Guest"))),l.a.createElement("li",{className:"nav-item"},l.a.createElement("a",{class:"nav-link",href:"/"},"About")),l.a.createElement("li",{className:"nav-item"},l.a.createElement("a",{class:"nav-link  active",href:"/logout"},this.props.logname)))))))}}]),a}(l.a.Component)),E=(a(45),a(21)),g=a(62),w=a(61),y=a(2),N=a(59),k=a(60),S=a(13),j=a(10),O=function(e){Object(m.a)(a,e);var t=Object(i.a)(a);function a(){var e;return Object(s.a)(this,a),(e=t.call(this)).ref=l.a.createRef(),e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.renderAxis()}},{key:"componentDidUpdate",value:function(){this.updateAxis()}},{key:"renderAxis",value:function(){var e,t=this.props,a=t.scale,n=t.orient,l=t.ticks,c=this.ref.current;"bottom"===n&&(e=Object(S.a)(a).ticks(l)),"left"===n&&(e=Object(S.b)(a).ticks(l)),Object(N.a)(c).call(e)}},{key:"updateAxis",value:function(){var e=this.props,t=e.scale,a=e.orient,n=e.ticks,l=Object(j.a)().duration(1e3);if("left"===a){var c=Object(S.b)(t).ticks(n);Object(k.a)(".".concat(a)).transition(l).call(c)}if("bottom"===a){var r=Object(S.a)(t).ticks(n);Object(k.a)(".".concat(a)).transition(l).call(r)}}},{key:"render",value:function(){var e=this.props,t=e.orient,a=e.transform;return l.a.createElement("g",{ref:this.ref,transform:a,className:"".concat(t," axis")})}}]),a}(l.a.Component),C=function(e){var t=e.xScale,a=e.yScale,n=e.height,c={scale:t,orient:"bottom",transform:"translate(0, ".concat(n,")")},r={scale:a,orient:"left",transform:"translate(0, 0)",ticks:6};return l.a.createElement("g",{className:"axis-group"},l.a.createElement(O,c),l.a.createElement(O,r))},x=function(e){Object(m.a)(a,e);var t=Object(i.a)(a);function a(){var e;return Object(s.a)(this,a),(e=t.call(this)).ref=l.a.createRef(),e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this.ref.current,t=this.props,a=(t.xScale,t.yScale,t.data),n=t.lineGenerator,l=a.map((function(e){return{name:e.name,value:0}}));Object(N.a)(e).append("path").datum(l).attr("id","line").attr("stroke","black").attr("stroke-width",2).attr("fill","none").attr("d",n),this.updateChart()}},{key:"componentDidUpdate",value:function(){this.updateChart()}},{key:"updateChart",value:function(){var e=this.props,t=e.lineGenerator,a=(e.xScale,e.yScale,e.data),n=Object(j.a)().duration(1e3),l=Object(N.a)("#line");Object(k.a)(".circle");l.datum(a).transition(n).attr("d",t)}},{key:"render",value:function(){return l.a.createElement("g",{className:"line-group",ref:this.ref})}}]),a}(l.a.Component),I=function(e){Object(m.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this)).updateWidth=function(){n.setState({windowwidth:window.innerWidth,windowheight:window.innerHeight})},n.componentDidMount=function(){window.addEventListener("resize",n.updateWidth)},n.componentWillReceiveProps=function(e){n.newData(e)},n.newData=function(e){!0!==e.resetState?n.setState({data:n.state.data.concat([{name:e.name,value:e.value}])}):n.setState({data:[{name:0,value:0}]})},n.state={data:[{name:0,value:0}],windowwidth:window.innerWidth,windowheight:window.innerHeight},n}return Object(o.a)(a,[{key:"render",value:function(){var e=this.state.data,t=this.state.windowwidth/1.5,a={top:20,right:.06*this.state.windowwidth,bottom:20,left:.06*this.state.windowwidth},n=t-a.left-a.right,c=this.state.windowheight/2-a.top-a.bottom,r=Object(j.a)().duration(1e3),s=Object(E.a)().domain(Object(y.d)(e,(function(e){return e.name}))).range([0,n]).nice(),o=Object(E.a)().domain(Object(y.d)(e,(function(e){return e.value}))).range([c,0]).nice(),i=Object(g.a)().x((function(e){return s(e.name)})).y((function(e){return o(e.value)})).curve(w.a);return l.a.createElement("div",null,l.a.createElement("svg",{className:"lineChartSvg",width:n+a.left+a.right,height:c+a.top+a.bottom},l.a.createElement("g",{transform:"translate(".concat(a.left,", ").concat(a.top,")")},l.a.createElement(C,{xScale:s,yScale:o,height:c,ticks:5,t:r}),l.a.createElement(x,{data:e,xScale:s,yScale:o,width:n,height:c})),l.a.createElement("g",{transform:"translate(".concat(a.left,", ").concat(a.top,")")},l.a.createElement(C,{xScale:s,yScale:o,height:c,ticks:5,t:r}),l.a.createElement(x,{data:e,xScale:s,yScale:o,lineGenerator:i,width:n,height:c}))))}}]),a}(l.a.Component);a(20);var D=function(e){Object(m.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this)).componentWillUnmount=function(){clearInterval(n.interval)},n.tick=function(){n.state.datavalue;0===n.state.datadays&&n.setState({datavalue:1}),n.setState({oldvalue:n.state.datavalue,datavalue:n.state.datavalue*(1+n.state.slope)}),n.setState({dailycases:n.state.datavalue-n.state.oldvalue,slope:n.state.slope+5e-4}),n.state.datavalue>n.state.datamax&&n.setState({datamax:n.state.datavalue}),n.state.daysvaccine>0&&n.setState({daysvaccine:n.state.daysvaccine-1}),n.state.datamax/20>Number(2e7)&&(clearInterval(n.interval),alert("That's the worst epidemic in World's history ; that's why Public Health measures are important!"),n.setState({gameEnd:!0})),n.state.datadays<365?n.setState({datadays:n.state.datadays+1}):(clearInterval(n.interval),n.setState({datadays:0,countOn:!1,resetGraph:!0}))},n.startCount=function(){!0!==n.state.countOn&&!0!==n.state.gameEnd&&(n.setState({countOn:!0,resetGraph:!1,datadays:n.state.datadays}),n.interval=setInterval((function(){return n.tick()}),1e3))},n.stopCount=function(){clearInterval(n.interval),n.setState({countOn:!1})},n.resetCount=function(){clearInterval(n.interval),n.setState({datadays:0,datavalue:0,daysvaccine:100,dailycases:0,oldvalue:0,datamax:0,resetGraph:!0,countOn:!1,gameEnd:!1})},n.washHands=function(){n.setState({slope:.98*n.state.slope})},n.stayHome=function(){n.state.slope>.001?n.setState({slope:.92*n.state.slope}):n.setState({slope:n.state.slope-5e-4})},n.wearMask=function(){n.setState({slope:.96*n.state.slope})},n.vaccine=function(){n.setState({slope:n.state.slope-.008})},n.state={datadays:0,datavalue:0,datamax:0,dailycases:0,daysvaccine:100,oldvalue:0,countOn:!1,resetGraph:!1,gameEnd:!1,slope:.2},n}return Object(o.a)(a,[{key:"render",value:function(){return l.a.createElement("div",{className:"gamepanel"},l.a.createElement("div",{id:"#datainfo",className:"row justify-content-center"},l.a.createElement("div",{className:"col-6 text-center"},l.a.createElement("label",null,"Maximum COVID-19 cases :  "),l.a.createElement("output",{type:"number"},Number(this.state.datamax).toFixed(0))),l.a.createElement("div",{className:"col-6 text-center"},l.a.createElement("label",null,"Death toll :  "),l.a.createElement("output",{type:"number"},Number(this.state.datamax/20).toFixed(0)))),l.a.createElement("div",{id:"#linechart",className:"row justify-content-center"},l.a.createElement(I,{name:this.state.datadays,value:this.state.datavalue,resetState:this.state.resetGraph})),l.a.createElement("div",{id:"#datainfo",className:"row justify-content-center"},l.a.createElement("div",{className:"col-5 text-center"},l.a.createElement("label",null,"Days"))),l.a.createElement("div",{id:"#datainfo",className:"row justify-content-center"},l.a.createElement("div",{className:"col-1"}),l.a.createElement("div",{className:"col-5 text-center"},l.a.createElement("label",null,"Active COVID-19 cases :  "),l.a.createElement("output",{type:"number"},Number(this.state.datavalue).toFixed(0))),l.a.createElement("div",{className:"col-5 text-center"},l.a.createElement("label",null,"Days since start of epidemic :  "),l.a.createElement("output",{type:"number"},this.state.datadays)),l.a.createElement("div",{className:"col-1"})),l.a.createElement("div",{id:"#datainfo",className:"row justify-content-center"},l.a.createElement("div",{className:"col-1"}),l.a.createElement("div",{className:"col-5 text-center"},l.a.createElement("label",null,"Daily new COVID-19 cases :  "),l.a.createElement("output",{type:"number"},Number(this.state.dailycases).toFixed(0))),l.a.createElement("div",{className:"col-5 text-center"},l.a.createElement("label",null,"Days remaining until vaccine available :  "),l.a.createElement("output",{type:"number"},this.state.daysvaccine)),l.a.createElement("div",{className:"col-1"})),l.a.createElement("div",{id:"#startstoprow",className:"row justify-content-center"},l.a.createElement("div",{className:"col-3"},l.a.createElement("button",{onClick:this.startCount,className:"btn btn-secondary btn-md btn-block"},"Start")),l.a.createElement("div",{className:"col-3"},l.a.createElement("button",{onClick:this.stopCount,className:"btn btn-danger btn-md btn-block"},"Stop")),l.a.createElement("div",{className:"col-3"},l.a.createElement("button",{onClick:this.resetCount,className:"btn btn-primary btn-md btn-block"},"Reset"))),l.a.createElement("div",{id:"#datainfo",className:"row justify-content-center"},l.a.createElement("div",{className:"col-1"}),l.a.createElement("div",{className:"col-10 text-center"},l.a.createElement("label",null,"Public Health Actions : Click repeatedly to see effect on propagation curve")),l.a.createElement("div",{className:"col-1"})),l.a.createElement("div",{id:"#actionsrow",className:"row justify-content-center"},l.a.createElement("div",{className:"col-3"},l.a.createElement("button",{onClick:this.stayHome,className:"btn btn-warning btn-md btn-block"},"Stay home")),l.a.createElement("div",{className:"col-3"},l.a.createElement("button",{onClick:this.wearMask,className:"btn btn-warning btn-md btn-block"},"Wear mask")),l.a.createElement("div",{className:"col-3"},l.a.createElement("button",{onClick:this.washHands,className:"btn btn-warning btn-md btn-block"},"Wash hands")),l.a.createElement("div",{className:"col-3"},this.state.daysvaccine>0?l.a.createElement("button",{onClick:this.vaccine,className:"btn btn-dark btn-md btn-block",disabled:!0},"Vaccine"):l.a.createElement("button",{onClick:this.vaccine,className:"btn btn-info btn-md btn-block"},"Vaccine"))))}}]),a}(l.a.Component),U=(a(46),a(47),a(48),a(49),function(e){Object(m.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this)).render=function(){return console.log("Rendering Welcome"),l.a.createElement("div",{className:"App"},l.a.createElement("header",{className:"Top-header"},n.state.userState?l.a.createElement(f,{logname:"Log out",nameuser:"Welcome, ".concat(n.state.userState.username),loggedin:"true"}):l.a.createElement(f,{logname:"Log in"})),l.a.createElement("body",null,l.a.createElement("div",{className:"container-fluid"},n.state.userState?l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-2"},l.a.createElement("div",{className:"row justify-content-end top-buffer"},l.a.createElement("h5",{className:"rotated"},"Active COVID-19 cases"))),l.a.createElement("div",{className:"col-8"},l.a.createElement(D,null)),l.a.createElement("div",{className:"col-2"})):l.a.createElement("div",null,l.a.createElement("div",{className:"row justify-content-center"},l.a.createElement("div",{className:"App-header"},l.a.createElement("img",{src:d.a,className:"App-logo",alt:"logo"}),l.a.createElement("h1",null,"Welcome to The Social Distancer!"),l.a.createElement("h2",null,"A game where you make a difference and save lives"))),l.a.createElement("div",{className:"row justify-content-center"},l.a.createElement(b,null))))))},n.state={userState:null},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;console.log("getUser"),fetch("/getUser").then((function(e){return e.json()})).then((function(t){return e.setState({userState:t})}))}}]),a}(l.a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(U,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[34,1,2]]]);
//# sourceMappingURL=main.fc4416da.chunk.js.map